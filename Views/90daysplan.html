<!-- 90 Days Plan View (Module 3) - Blueprint ワークショップ -->
<div class="flex flex-col gap-6 pb-24">

  <!-- Header -->
  <div class="flex flex-col md:flex-row md:items-center justify-between gap-4">
    <div>
      <h1 class="text-2xl font-bold text-slate-900 tracking-tight">90日計画</h1>
      <p class="text-slate-500 text-sm mt-1">直近90日間のアクションプランとマイルストーンを策定します</p>
    </div>
    <div class="flex items-center gap-3">
      <div class="flex items-center gap-2 text-sm bg-slate-100 px-3 py-1.5 rounded-full">
        <span class="material-symbols-outlined text-[16px] text-slate-500">calendar_today</span>
        <span class="text-slate-600">開始日: <strong id="start-date" class="text-slate-800">未設定</strong></span>
      </div>
    </div>
  </div>

  <!-- Timeline Overview -->
  <div class="bg-white rounded-xl border border-border-color shadow-card p-6">
    <h3 class="text-sm font-bold text-slate-800 mb-4 flex items-center gap-2">
      <span class="material-symbols-outlined text-primary text-[18px]">timeline</span>
      タイムライン概要
    </h3>
    <div class="grid grid-cols-3 gap-4">
      <div class="text-center p-4 bg-blue-50 rounded-lg border border-blue-100">
        <div class="text-2xl font-bold text-primary mb-1">0-30日</div>
        <div class="text-xs text-blue-700 font-medium">準備フェーズ</div>
      </div>
      <div class="text-center p-4 bg-amber-50 rounded-lg border border-amber-100">
        <div class="text-2xl font-bold text-amber-600 mb-1">31-60日</div>
        <div class="text-xs text-amber-700 font-medium">実行フェーズ</div>
      </div>
      <div class="text-center p-4 bg-green-50 rounded-lg border border-green-100">
        <div class="text-2xl font-bold text-green-600 mb-1">61-90日</div>
        <div class="text-xs text-green-700 font-medium">評価・最適化</div>
      </div>
    </div>
  </div>

  <!-- Phase 1: Days 0-30 -->
  <div class="bg-white rounded-xl border border-border-color shadow-card overflow-hidden">
    <div class="px-6 py-4 bg-blue-50 border-b border-blue-100 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <div class="size-10 rounded-lg bg-primary text-white flex items-center justify-center font-bold">
          1
        </div>
        <div>
          <h3 class="text-base font-bold text-slate-900">準備フェーズ (Day 0-30)</h3>
          <p class="text-xs text-slate-500">Foundation & Setup</p>
        </div>
      </div>
      <span class="text-sm text-blue-700 font-medium">4 タスク</span>
    </div>
    <div class="p-4 space-y-3">
      <div class="flex items-center gap-4 p-4 bg-slate-50 rounded-lg border border-slate-100">
        <input type="checkbox" data-field="task_1_1" class="h-5 w-5 text-primary border-slate-300 rounded focus:ring-primary"/>
        <div class="flex-1">
          <input type="text" data-field="task_1_1_text" class="w-full bg-transparent border-none p-0 text-sm font-medium text-slate-800 focus:ring-0" value="キックオフミーティング実施"/>
          <div class="flex items-center gap-3 mt-1">
            <span class="text-xs text-slate-500">担当: </span>
            <input type="text" data-field="task_1_1_owner" class="bg-transparent border-none p-0 text-xs text-slate-600 focus:ring-0 w-32" placeholder="担当者名"/>
            <span class="text-xs text-slate-400">|</span>
            <span class="text-xs text-slate-500">期限: Week 1</span>
          </div>
        </div>
        <button class="text-slate-400 hover:text-red-500 transition-colors">
          <span class="material-symbols-outlined text-[18px]">delete</span>
        </button>
      </div>
      <div class="flex items-center gap-4 p-4 bg-slate-50 rounded-lg border border-slate-100">
        <input type="checkbox" data-field="task_1_2" class="h-5 w-5 text-primary border-slate-300 rounded focus:ring-primary"/>
        <div class="flex-1">
          <input type="text" data-field="task_1_2_text" class="w-full bg-transparent border-none p-0 text-sm font-medium text-slate-800 focus:ring-0" value="現状分析とギャップ分析完了"/>
          <div class="flex items-center gap-3 mt-1">
            <span class="text-xs text-slate-500">担当: </span>
            <input type="text" data-field="task_1_2_owner" class="bg-transparent border-none p-0 text-xs text-slate-600 focus:ring-0 w-32" placeholder="担当者名"/>
            <span class="text-xs text-slate-400">|</span>
            <span class="text-xs text-slate-500">期限: Week 2</span>
          </div>
        </div>
        <button class="text-slate-400 hover:text-red-500 transition-colors">
          <span class="material-symbols-outlined text-[18px]">delete</span>
        </button>
      </div>
      <div class="flex items-center gap-4 p-4 bg-slate-50 rounded-lg border border-slate-100">
        <input type="checkbox" data-field="task_1_3" class="h-5 w-5 text-primary border-slate-300 rounded focus:ring-primary"/>
        <div class="flex-1">
          <input type="text" data-field="task_1_3_text" class="w-full bg-transparent border-none p-0 text-sm font-medium text-slate-800 focus:ring-0" value="技術要件定義書作成"/>
          <div class="flex items-center gap-3 mt-1">
            <span class="text-xs text-slate-500">担当: </span>
            <input type="text" data-field="task_1_3_owner" class="bg-transparent border-none p-0 text-xs text-slate-600 focus:ring-0 w-32" placeholder="担当者名"/>
            <span class="text-xs text-slate-400">|</span>
            <span class="text-xs text-slate-500">期限: Week 3</span>
          </div>
        </div>
        <button class="text-slate-400 hover:text-red-500 transition-colors">
          <span class="material-symbols-outlined text-[18px]">delete</span>
        </button>
      </div>
      <div class="flex items-center gap-4 p-4 bg-slate-50 rounded-lg border border-slate-100">
        <input type="checkbox" data-field="task_1_4" class="h-5 w-5 text-primary border-slate-300 rounded focus:ring-primary"/>
        <div class="flex-1">
          <input type="text" data-field="task_1_4_text" class="w-full bg-transparent border-none p-0 text-sm font-medium text-slate-800 focus:ring-0" value="パイロット環境構築"/>
          <div class="flex items-center gap-3 mt-1">
            <span class="text-xs text-slate-500">担当: </span>
            <input type="text" data-field="task_1_4_owner" class="bg-transparent border-none p-0 text-xs text-slate-600 focus:ring-0 w-32" placeholder="担当者名"/>
            <span class="text-xs text-slate-400">|</span>
            <span class="text-xs text-slate-500">期限: Week 4</span>
          </div>
        </div>
        <button class="text-slate-400 hover:text-red-500 transition-colors">
          <span class="material-symbols-outlined text-[18px]">delete</span>
        </button>
      </div>
      <button class="w-full py-2 border-2 border-dashed border-slate-200 rounded-lg text-slate-400 text-sm font-medium hover:border-primary hover:text-primary transition-colors flex items-center justify-center gap-2">
        <span class="material-symbols-outlined text-[18px]">add</span>
        タスクを追加
      </button>
    </div>
  </div>

  <!-- Phase 2: Days 31-60 -->
  <div class="bg-white rounded-xl border border-border-color shadow-card overflow-hidden">
    <div class="px-6 py-4 bg-amber-50 border-b border-amber-100 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <div class="size-10 rounded-lg bg-amber-500 text-white flex items-center justify-center font-bold">
          2
        </div>
        <div>
          <h3 class="text-base font-bold text-slate-900">実行フェーズ (Day 31-60)</h3>
          <p class="text-xs text-slate-500">Implementation & Execution</p>
        </div>
      </div>
      <span class="text-sm text-amber-700 font-medium">3 タスク</span>
    </div>
    <div class="p-4 space-y-3">
      <div class="flex items-center gap-4 p-4 bg-slate-50 rounded-lg border border-slate-100">
        <input type="checkbox" data-field="task_2_1" class="h-5 w-5 text-primary border-slate-300 rounded focus:ring-primary"/>
        <div class="flex-1">
          <input type="text" data-field="task_2_1_text" class="w-full bg-transparent border-none p-0 text-sm font-medium text-slate-800 focus:ring-0" value="パイロット運用開始"/>
        </div>
        <button class="text-slate-400 hover:text-red-500 transition-colors">
          <span class="material-symbols-outlined text-[18px]">delete</span>
        </button>
      </div>
      <div class="flex items-center gap-4 p-4 bg-slate-50 rounded-lg border border-slate-100">
        <input type="checkbox" data-field="task_2_2" class="h-5 w-5 text-primary border-slate-300 rounded focus:ring-primary"/>
        <div class="flex-1">
          <input type="text" data-field="task_2_2_text" class="w-full bg-transparent border-none p-0 text-sm font-medium text-slate-800 focus:ring-0" value="ユーザートレーニング実施"/>
        </div>
        <button class="text-slate-400 hover:text-red-500 transition-colors">
          <span class="material-symbols-outlined text-[18px]">delete</span>
        </button>
      </div>
      <div class="flex items-center gap-4 p-4 bg-slate-50 rounded-lg border border-slate-100">
        <input type="checkbox" data-field="task_2_3" class="h-5 w-5 text-primary border-slate-300 rounded focus:ring-primary"/>
        <div class="flex-1">
          <input type="text" data-field="task_2_3_text" class="w-full bg-transparent border-none p-0 text-sm font-medium text-slate-800 focus:ring-0" value="中間レビュー実施"/>
        </div>
        <button class="text-slate-400 hover:text-red-500 transition-colors">
          <span class="material-symbols-outlined text-[18px]">delete</span>
        </button>
      </div>
      <button class="w-full py-2 border-2 border-dashed border-slate-200 rounded-lg text-slate-400 text-sm font-medium hover:border-primary hover:text-primary transition-colors flex items-center justify-center gap-2">
        <span class="material-symbols-outlined text-[18px]">add</span>
        タスクを追加
      </button>
    </div>
  </div>

  <!-- Phase 3: Days 61-90 -->
  <div class="bg-white rounded-xl border border-border-color shadow-card overflow-hidden">
    <div class="px-6 py-4 bg-green-50 border-b border-green-100 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <div class="size-10 rounded-lg bg-green-500 text-white flex items-center justify-center font-bold">
          3
        </div>
        <div>
          <h3 class="text-base font-bold text-slate-900">評価・最適化フェーズ (Day 61-90)</h3>
          <p class="text-xs text-slate-500">Evaluation & Optimization</p>
        </div>
      </div>
      <span class="text-sm text-green-700 font-medium">3 タスク</span>
    </div>
    <div class="p-4 space-y-3">
      <div class="flex items-center gap-4 p-4 bg-slate-50 rounded-lg border border-slate-100">
        <input type="checkbox" data-field="task_3_1" class="h-5 w-5 text-primary border-slate-300 rounded focus:ring-primary"/>
        <div class="flex-1">
          <input type="text" data-field="task_3_1_text" class="w-full bg-transparent border-none p-0 text-sm font-medium text-slate-800 focus:ring-0" value="成果測定とKPI評価"/>
        </div>
        <button class="text-slate-400 hover:text-red-500 transition-colors">
          <span class="material-symbols-outlined text-[18px]">delete</span>
        </button>
      </div>
      <div class="flex items-center gap-4 p-4 bg-slate-50 rounded-lg border border-slate-100">
        <input type="checkbox" data-field="task_3_2" class="h-5 w-5 text-primary border-slate-300 rounded focus:ring-primary"/>
        <div class="flex-1">
          <input type="text" data-field="task_3_2_text" class="w-full bg-transparent border-none p-0 text-sm font-medium text-slate-800 focus:ring-0" value="改善点の特定と次期計画策定"/>
        </div>
        <button class="text-slate-400 hover:text-red-500 transition-colors">
          <span class="material-symbols-outlined text-[18px]">delete</span>
        </button>
      </div>
      <div class="flex items-center gap-4 p-4 bg-slate-50 rounded-lg border border-slate-100">
        <input type="checkbox" data-field="task_3_3" class="h-5 w-5 text-primary border-slate-300 rounded focus:ring-primary"/>
        <div class="flex-1">
          <input type="text" data-field="task_3_3_text" class="w-full bg-transparent border-none p-0 text-sm font-medium text-slate-800 focus:ring-0" value="最終報告書作成"/>
        </div>
        <button class="text-slate-400 hover:text-red-500 transition-colors">
          <span class="material-symbols-outlined text-[18px]">delete</span>
        </button>
      </div>
      <button class="w-full py-2 border-2 border-dashed border-slate-200 rounded-lg text-slate-400 text-sm font-medium hover:border-primary hover:text-primary transition-colors flex items-center justify-center gap-2">
        <span class="material-symbols-outlined text-[18px]">add</span>
        タスクを追加
      </button>
    </div>
  </div>

</div>

<!-- Footer Actions -->
<div class="fixed bottom-0 left-0 right-0 md:left-64 border-t border-border-color bg-white p-4 px-8 flex justify-between items-center z-30 shadow-[0_-4px_20px_-5px_rgba(0,0,0,0.05)]">
  <div class="hidden sm:flex items-center gap-2">
    <span class="material-symbols-outlined text-green-500 text-[20px]">cloud_done</span>
    <span class="text-sm text-slate-500 font-medium">自動保存済み</span>
  </div>
  <div class="flex gap-3 w-full sm:w-auto">
    <button class="flex-1 sm:flex-none px-5 py-2.5 rounded-md border border-slate-300 text-slate-700 font-semibold text-sm hover:bg-slate-50 transition-colors" data-action="save-module">
      保存
    </button>
    <button class="flex-1 sm:flex-none px-6 py-2.5 rounded-md bg-primary text-white font-semibold text-sm hover:bg-primary-hover transition-colors shadow-sm flex items-center justify-center gap-2" data-action="complete-module">
      <span class="material-symbols-outlined text-[18px]">check</span>
      このモジュールを完了
    </button>
  </div>
</div>
